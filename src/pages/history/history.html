<!--
  Generated template for the ModalpagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-row>
      <ion-col col-2>
        <button ion-button menuToggle clear>
          <ion-icon style="font-size:25px" name="menu" color="light"></ion-icon>
        </button>
      </ion-col>

      <ion-col col-8 style="text-align: center;margin-top: 10px;">
        <label style="color:white; font-size:25px;"><b>สภาพอากาศย้อนหลัง</b></label>
      </ion-col>
    </ion-row>
  </ion-header>
  
  <ion-content  id="bgmodal">

      <ion-row>
          <ion-col col-6>
            <ion-item style="background-color: rgba(255, 255, 255, 0.728);border-radius: 10px">
              <ion-label style="font-size:18px">เลือกสถานที่</ion-label>
              <ion-select [(ngModel)]="place">
                <ion-option value="1">ไร่เห็ด</ion-option>
                <ion-option value="2">ไร่ข้าวโพด</ion-option>
                <ion-option value="3">ไร่ผักกาก</ion-option>
                <ion-option value="4">ไร่ข้าวสาลี</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
          <ion-col col-6>
            <ion-item style="background-color: rgba(255, 255, 255, 0.728);border-radius: 10px">
              <ion-label style="font-size:18px">เลือกอุปกรณ์</ion-label>
              <ion-select [(ngModel)]="type">
                <ion-option value="1">device 1</ion-option>
                <ion-option value="2">device 2</ion-option>
                <ion-option value="3">device 3</ion-option>
                <ion-option value="4">device 4</ion-option>
                <ion-option value="5">device 5</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col >
              <ion-item style="background-color: rgba(255, 255, 255, 0.728);border-radius: 10px">
                  <ion-label style="font-size:18px">เลือกสภาพอากาศ</ion-label>
                  <ion-select [(ngModel)]="weather">
                    <ion-option value="1">Tempareture</ion-option>
                    <ion-option value="2">Humidity</ion-option>
                    <ion-option value="3">Light</ion-option>
                    <ion-option value="4">Pressure</ion-option>
                  </ion-select>
                </ion-item>
          </ion-col>
        </ion-row>

    <!-- <ion-card id="bg" style="height: 140px;border-radius:25px">
      
      <ion-row>
        <ion-col col-6 style="text-align:center; margin-top: 10px;">
          <ion-icon name="person" style="color: rgb(62, 231, 15);font-size: 70px; margin-top : 20px;" (click)="fullmap()"></ion-icon>
        </ion-col>
        <ion-col col-6 style="text-align:left; margin-top: 10px;">
          <ion-row>
            <ion-col>
              <label style="color:white; font-size: 12px  ">ชื่ออุปกรณ์ : {{device_name_graph}}</label>
            </ion-col>
          </ion-row>
          <div style=" border-bottom: 2px solid rgba(249, 254, 255, 0.333);margin: 10px 0;width: 90%;"> </div>
          <ion-row>
            <ion-col>
              <label style="color:white; font-size: 12px  ">รายละเอียด : {{device_name_work}}</label>
            </ion-col>
          </ion-row>
          <div style=" border-bottom: 2px solid rgba(249, 254, 255, 0.333);margin: 10px 0;width: 90%;"> </div>
        </ion-col>
      </ion-row>
  
    </ion-card> -->
  
    <ion-card id="bg" style="border-radius:25px">
      <ion-grid>
        <ion-row>
          <ion-col col-12 style="margin-top:5px">
            <label class="txt" style="font-size: 18px;margin-top: 5px;color:azure;margin-left:20px">สภาพอากาศย้อนหลังจากช่วงเวลา</label>
          </ion-col>
        </ion-row>
        <div style=" border-bottom: 2px solid rgba(249, 254, 255, 0.333);margin: 10px 0;width: 100%;"> </div>
        <ion-row style="text-align:center">
          <ion-col col-12>
            <button ion-button color="yellow" style="font-size:16px;color:rgb(12, 12, 12);" small (click)="history(1,'HOUR')">1ชม.</button>
            <button ion-button color="yellow" style="font-size:16px;color:rgb(12, 12, 12);" small (click)="history(3,'HOUR')">3ชม.</button>
            <button ion-button color="yellow" style="font-size:16px;color:rgb(12, 12, 12);" small (click)="history(12,'HOUR')">12ชม.</button>
            <button ion-button color="yellow" style="font-size:16px;color:rgb(12, 12, 12);" small (click)="history(1, 'DAY')">1วัน</button>
            <button ion-button color="yellow" style="font-size:16px;color:rgb(12, 12, 12);" small (click)="history(2, 'DAY')">2วัน</button>
          </ion-col>
        </ion-row>
      </ion-grid>
      
    
      <ion-card id="bg" style="height:500px;border-radius: 25px" *ngIf = "device_privious_temp_date" >
        <ion-card-header class="txt">
          <ion-icon ios="ios-trending-up" md="md-trending-up" class="cloude" color="light"></ion-icon>
          <label style="color:azure;"><b>สภาพอากาศย้อนหลังช่วงเวลา {{privious}} {{Day_TH}}</b></label>
        </ion-card-header>
        <ion-card-content>
          <canvas height="700px" width="500px" #lineCanvas></canvas>
        </ion-card-content>
      </ion-card>
      <ion-row>
        <div style=" border-bottom: 4px solid rgba(249, 254, 255, 0.333);margin: 10px 0;width: 100%;"> </div>
        <ion-col col-12 style="margin-top:5px">
          <label class="txt" style="font-size: 18px;margin-top: 5px;color:azure;margin-left:20px">สภาพอากาศย้อนหลังจากวัน</label>
        </ion-col>
      </ion-row>
  
      <ion-row>
        <ion-col col-2></ion-col>
          <ion-col col-8>
            <ion-item style="margin-top:15px; opacity: 0.8;border-radius: 25px">
              <ion-label> <ion-icon style="margin-top:5px" name="calendar"></ion-icon> วันที่</ion-label>
              <ion-datetime displayFormat="YYYY/MM/DD" [(ngModel)]="myDate" placeholder="เลือกวัน" (ionChange)="history_chart()"></ion-datetime>
            </ion-item>
        </ion-col>
        <ion-col col-2></ion-col>
      </ion-row>
      <ion-card id="bg" style="height:500px;border-radius: 25px">
        <ion-card-header class="txt">
          <b>
            <ion-icon ios="ios-trending-up" md="md-trending-up" color ="light" class="cloude"></ion-icon>
          </b>
          <label style="color:azure;"><b>สภาพอากาศ ณ วันที่ {{myDate}}</b></label>
        </ion-card-header>
        <ion-card-content>
          <canvas height="700px" width="500px" #lineCanvas_day></canvas>
        </ion-card-content>
      </ion-card>
    </ion-card>
  
  
   
  
  </ion-content>